{% extends "base.html" %}
{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-xl shadow-sm p-8">
        <h2 class="text-2xl font-bold mb-6 flex items-center text-gray-800">
            <i class="fas fa-edit mr-3 text-{{ config.theme.primary_color }}-500"></i>
            Edit Link
        </h2>
        <form method="POST" class="space-y-6">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2" for="title">
                    Title *
                </label>
                <input value="{{ link.title }}" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-{{ config.theme.primary_color }}-500 focus:border-{{ config.theme.primary_color }}-500"
                       id="title" name="title" type="text" required>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2" for="url">
                    URL *
                </label>
                <input value="{{ link.url }}" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-{{ config.theme.primary_color }}-500 focus:border-{{ config.theme.primary_color }}-500"
                       id="url" name="url" type="text" required>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2" for="description">
                    Description
                </label>
                <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-{{ config.theme.primary_color }}-500 focus:border-{{ config.theme.primary_color }}-500"
                          id="description" name="description" rows="3">{{ link.description }}</textarea>
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2" for="category">
                    Category
                </label>
                <input value="{{ link.category }}" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-{{ config.theme.primary_color }}-500 focus:border-{{ config.theme.primary_color }}-500"
                       id="category" name="category" type="text">
            </div>
            
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2" for="icon">
                    Icon (Font Awesome class)
                </label>
                <div class="relative">
                    <input value="{{ link.icon }}" 
                           class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-{{ config.theme.primary_color }}-500 focus:border-{{ config.theme.primary_color }}-500"
                           id="icon" name="icon" type="text"
                           placeholder="e.g., link, github, twitter">
                    <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                        <i class="fas fa-info-circle text-gray-400" title="Enter Font Awesome icon name without 'fa-' prefix"></i>
                    </div>
                </div>
            </div>
            
            <div class="flex items-center justify-end space-x-4 pt-4">
                <!-- Updated endpoint -->
                <a href="{{ url_for('main.dashboard') }}"
                   class="px-4 py-2 text-gray-700 hover:text-gray-900 transition-colors">
                    Cancel
                </a>
                <button type="submit"
                        class="bg-{{ config.theme.primary_color }}-500 hover:bg-{{ config.theme.primary_color }}-600 text-white px-6 py-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-{{ config.theme.primary_color }}-500">
                    Save Changes
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}